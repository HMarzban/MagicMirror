<section class="module md_news">
    <script>
        
        (function ( $ ) {

            $.fn.md_news = function() {
            
                const $this = this;
                const $news_module = jsonQuery('module[name=news]', {
                    data: $config
                }).value;

                const $typeShow = $news_module.show || "scroll";

                $this.append(`<div class="nd_online"></div><div class="ho_news"><div>`);

                let fn_news_relaod = function(){
                    //if($weather_module.default_config.refresh_time.worke){
                        let i = $news_module.refresh_time || 60000;
                        console.log(i)
                        let md_news_relaod = setInterval(function() {
                            //i = i - 1;
                            //console.log(i)
                            //$this.find('.footer .timer').text(i)
                            //if (i <= 0) {
                                // get new data
                                fn_news_init();
                                clearInterval(md_news_relaod);
                            //}
                        },i);// setInterval
                    //}//worke or not
                } 

                const fn_news_init = function(){

                    $.get("http://khabarpu.com/file/kp2/sort_newsagency/latest/newsagency.htm?_="+moment().valueOf(),function(_data){
                    $this.find('.ho_news').html(_data);
                    
                        if( $typeShow == "scroll" )
                            $this.addClass('md_news_scroll').find('.ho_news').addClass('ho_news_active');
                        else
                            $this.addClass('md_news_fade');

                        if($typeShow == "fade" )
                            fn_fade_animation()

                        //preventDefault ahref tag in develope mode
                        fn_link_abandon();

                        fn_news_relaod();
                    }); //http get

                    

                }

                const fn_link_abandon = function (){
                    $this.find('a').on('click',function(e){
                        e.preventDefault();
                    })
                }

                const fn_fade_animation = function(){
                    let array = [];
                    let index = 0;
                    $( '.ho_news > div' ).each(function(index,val){
                        array.push($(val).html())
                    });
                    $( '.ho_news > div' ).remove();

                    $('.ho_news').hide().delay(400).html(array[0]).fadeIn('slow');
                    index = 1;
                    setInterval(function(){
                        $('.ho_news').fadeOut('slow',function(){
                            $('.ho_news').html(array[index]).fadeIn()
                        });
                        index++;
                    },6000)
                }
                
                fn_news_init();
                
                    
            };// $.fn.md_news

        }( jQuery ));  

        $('#md_news').md_news();
        
    </script>
    <style>

       

        #md_news{
            direction: rtl;text-align: right;padding:0 10px;overflow: hidden;
            width: 60vw;border-radius: 10px;position: relative;
        }


   


        

        /*====================================*/

        #md_news .nd_online{
            width: 14px;height: 14px;z-index: 5;
            background-color: red;border-radius: 100%;position: absolute;
            top:0%;left: 0%;transition: all .3s;animation:online_dot 1.2s ease-in-out infinite;
        }

        @keyframes online_dot {
            0% {opacity: 0;}
            50% {opacity: 1;}
            100%{opacity: 0;}
        }

        #md_news ul {list-style-type: none;color:#fff;}
        #md_news ul li a{color:#fff;text-decoration: none;font-size: 1.11em;font-weight: bold;}

        #md_news  .ho_news  .stitle::before{
            content: "\f1ea";
            display: inline-block;
            font: normal normal normal 14px/1 FontAwesome;
            font-size: inherit;
            text-rendering: auto;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            margin:0 2px 0 10px;

        }
        /**/
        #md_news .ho_news > div{margin-bottom: 8px;overflow: auto;}
        #md_news .ho_news ul{
            float:right;clear: both;
            width: 100%;margin: 0;
            padding: 0
        }
        #md_news  .ho_news  .stitle{
            float:  right;font-size: .86em;font-weight: 500;
        }
        #md_news  .ho_news  .ntime{
            float: left;font-size: .86em;font-weight: 500;
        }
        /*=====================================*/
        .md_news_scroll{
            height: 120px;
        }
        .md_news_scroll::before{
            content:'';width: 100%;height: 50px;position: absolute;top: 0;
            background: linear-gradient(rgba(0,0,0,1),transparent);z-index: 2;
        }

        .md_news_scroll::after{
            content:'';width: 100%;height: 50px;position: absolute;bottom: 0;
            background: linear-gradient(transparent,rgba(0,0,0,1));z-index: 2;
        }
        .ho_news_active{
            transition: all .3s;
            animation: auto_scrol 360s linear;

        }
        
        @keyframes auto_scrol {
            frome {transform: translateY(0%)}
            to{transform: translateY(-100%)}
        }
    
      
        /*fade in and out*/

        .md_news_fade{height: 66px;}

    
    </style>
    <div id="md_news"></div>
</section>